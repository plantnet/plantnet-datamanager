<div class="changes"></div>
{{#modelEmpty}}
<h3 class="page-title">Tree view</h3>
<p class="alert alert-info">
  This structure is empty. Add some modules first, or ask an administrator to do so.
</p>
{{/modelEmpty}}

{{^modelEmpty}}
<h3 class="page-title">Tree view for <span class="model-name">{{mm_name}}</span></h3>

<div id="tree-toolbar" class="btn-toolbar doc-toolbar" data-spy="affix" data-offset="300">
  <div class="btn-group">
    <button class="btn has-tooltip expand-all-cmd" data-container="body" data-placement="bottom" 
        title="Expand all tree nodes">
      <i class="icon-dm-toggle-expand"></i>
    </button>
    <button class="collapse-all-cmd btn has-tooltip" data-container="body" data-placement="bottom" 
        title="Collapse all tree nodes">
      <i class="icon-dm-toggle-collapse"></i>
    </button>
  </div>
  
  <div class="btn-group">
    <a class="btn has-tooltip toggle-all" data-placement="bottom" title="Select or Unselect all rows on this page">
      <input class="toggle-all-cmd" type="checkbox">
    </a>
  </div>

  <div class="btn-group">
    <form id="tree-search" data-mm="{{mm_id}}">
      <div class="input-prepend input-append">
        <span class="add-on">
          <i class="icon-search"></i>
        </span>
        <input class="search-query has-tooltip tree-search-input" type="text" data-placement="bottom" data-trigger="focus"            data-html="true" placeholder="Filter the tree" name="q" title="">
        <button class="btn" type="submit">
          Filter
        </button>
      </div>
    </form>
  </div>

  {{#isRef}}
  <div class="btn-group">
      <button class="btn has-tooltip include-synonyms-cmd {{#showSyn}}active{{/showSyn}}"
         data-placement="bottom" title="Include synonyms in tree (synonyms will appear in grey)">
        <i class="icon-dm-synonym-show"></i>
      </button>
  </div>
  {{/isRef}}

  <div class="btn-group">
    <button type="button" class="btn has-tooltip view-doc-cmd btn-light-docs" data-container="body" data-placement="bottom" title="Show details.">
      <i class="icon-dm-detail"></i>
    </button>
    <button type="button" class="btn has-tooltip edit-doc-cmd btn-light-docs" data-toggle="dropdown"  data-container="body" data-placement="bottom" 
        title="Edit selected doc">
      <i class="icon-dm-edit"></i>
    </button>
    <button id="dropdown-add-doc" class="btn dropdown-toggle has-tooltip add-doc-cmd btn-light-docs" data-container="body"
        data-toggle="dropdown" title="Choose the type of doc to add to the selected entry">
      <i class="icon-dm-add"></i>
      <span class="caret"></span>
    </button>
    <ul class="dropdown-menu submodis" role="menu" aria-labelledby="dopdown-add-doc">
      <!-- Content generated by selectors -->
    </ul>
    <button class="btn has-tooltip compare-doc-cmd btn-light-docs" data-container="body" data-placement="bottom" 
        title="Compare selected docs">
      <i class="icon-dm-compare"></i>
    </button>
    <button class="btn has-tooltip delete-doc-cmd btn-light-docs" data-container="body" data-placement="bottom" 
        title="Delete selected docs">
      <i class="icon-dm-delete"></i>
    </button>
  </div>

  <div class="btn-group">
    <button title="View revisions for one selected doc" class="view-revs-cmd btn has-tooltip" data-placement="bottom">
      <i class="icon-dm-revision"></i>
    </button>
  </div>

  {{#isRef}}
  <div class="btn-group">
    <button type="button" class="btn has-tooltip show-syn-cmd" data-placement="bottom"
      title="Show synonyms for selected entries">
      <i class="icon-dm-synonym-show"></i>
    </button>
    <button class="btn has-tooltip edit-syn-cmd" data-container="body" data-placement="bottom" 
        title="Add or edit synonyms for selected entry">
      <i class="icon-dm-synonym-add"></i>
    </button>
    <button type="button" class="btn has-tooltip show-linked-doc-cmd" data-placement="bottom"
      title="Show linked docs for selected entries">
      <i class="icon-dm-docs-linked"></i>
    </button>
  </div>
  {{/isRef}}
  
  <div class="btn-group selections">
    <!-- Construct by selector -->
  </div>
</div>

<div class="highlight">
  <ul id="root" class="treenode unstyled">
    <!-- Content generated by selectors -->
  </ul>
</div>

{{/modelEmpty}}
